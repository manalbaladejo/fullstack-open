{"version":3,"sources":["components/Filer.js","components/PersonForm.js","components/Numbers.js","number-service.js","components/Message.js","components/App.js","index.js"],"names":["Filter","filterVal","handleFilterChange","value","onChange","PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Numbers","persons","deleteEntry","filter","person","name","includes","map","key","id","number","onClick","baseUrl","axios","get","then","response","data","catch","error","console","log","delete","put","numbers","post","Message","message","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","useEffect","numberserv","length","event","target","preventDefault","find","current","window","confirm","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"uNAQeA,EAND,SAAC,GAAD,IAAEC,EAAF,EAAEA,UAAUC,EAAZ,EAAYA,mBAAZ,OACV,kDACsB,2BAAOC,MAAOF,EAAWG,SAAUF,MCW9CG,EAbG,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAaC,EAAf,EAAeA,QAAQC,EAAvB,EAAuBA,iBAAiBC,EAAxC,EAAwCA,UAAUC,EAAlD,EAAkDA,mBAAlD,OACd,0BAAMC,SAAUL,GACZ,sCACU,2BAAOH,MAAOI,EAASH,SAAUI,KAE3C,wCACY,2BAAOL,MAAOM,EAAWL,SAAUM,KAE/C,6BACI,4BAAQE,KAAK,UAAb,UCPGC,EAFC,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAQb,EAAV,EAAUA,UAAUc,EAApB,EAAoBA,YAApB,OAAmCD,EAAQE,OAAO,SAACC,GAAD,OAAWA,EAAOC,KAAMC,SAASlB,KAAYmB,IAAI,SAACH,GAAD,OAAU,wBAAII,IAAKJ,EAAOK,IAAKL,EAAOC,KAA5B,IAAmCD,EAAOM,OAA1C,IAAkD,4BAAQC,QAAS,kBAAIT,EAAYE,EAAOK,MAAxC,c,gBCAzKG,EAAU,eAuChB,EArCe,kBACXC,IACCC,IAAIF,GACJG,KAAK,SAAAC,GAAQ,OAAEA,EAASC,OACxBC,MAAM,SAAAC,GAAK,OAAEC,QAAQC,IAAIF,MAiC9B,EA9Be,SAACV,GAAD,OACXI,IACCS,OAAOV,EAAQ,IAAIH,GACnBM,KAAK,SAAAC,GAAQ,OAAEA,EAASC,OACxBC,MAAM,SAAAC,GACHC,QAAQC,IAAI,WACZD,QAAQC,IAAIF,MAwBpB,EApBe,SAACV,EAAGC,GAAJ,OACXG,IACCU,IAAIX,EAAQ,IAAIH,EAAG,CAAC,QAAUC,IAC9BK,KAAK,SAAAC,GAAQ,OAAEA,EAASC,OACxBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,MAepB,EAXgB,SAACK,GAEb,OADAJ,QAAQC,IAAIG,GAEZX,IACCY,KAAKb,EAAQ,CAAC,QAAUY,IACxBT,KAAK,SAAAC,GAAQ,OAAEA,EAASC,OACxBC,MAAM,SAAAC,GAAK,OAAEC,QAAQC,IAAIF,MCXfO,G,MAtBC,SAAC,GAAc,IAAbC,EAAY,EAAZA,QACd,MAAgB,KAAbA,EAAQ,GACH,+BAGY,IAAbA,EAAQ,GAEA,yBAAKC,UAAU,oBACTD,EAAQ,IAMd,yBAAKC,UAAU,oBACbD,EAAQ,MC4EdE,EAtFH,WAAO,IAAD,EACeC,mBAAS,IADxB,mBACR7B,EADQ,KACC8B,EADD,OAEgBD,mBAAS,IAFzB,mBAERpC,EAFQ,KAECsC,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRlC,EAHQ,KAGGqC,EAHH,OAIiBH,mBAAS,IAJ1B,mBAIR1C,EAJQ,KAIG8C,EAJH,OAKgBJ,mBAAS,CAAC,IAAG,IAL7B,mBAKRH,EALQ,KAKCQ,EALD,KAWhBC,oBALa,WACXhB,QAAQC,IAAI,UACZgB,IACCtB,KAAK,SAAAC,GAAQ,OAAEe,EAAWf,MAEd,IACfI,QAAQC,IAAI,SAAUpB,EAAQqC,OAAQ,UA6DtC,OACE,6BACE,yCACA,kBAAC,EAAD,CAASX,QAASA,IAClB,kBAAC,EAAD,CAAQvC,UAAWA,EAAWC,mBA1DP,SAACkD,GAC1BL,EAAUK,EAAMC,OAAOlD,UA0DrB,yCACA,kBAAC,EAAD,CAAYG,aAzCK,SAAC8C,GAGlB,GAFAA,EAAME,iBACNrB,QAAQC,IAAI,iBACTpB,EAAQyC,KAAK,SAACtC,GAAD,OAAUA,EAAOC,OAAOX,IACxC,CACE,IAAMiD,EAAU1C,EAAQyC,KAAK,SAAAtC,GAAM,OAAEA,EAAOC,OAAOX,IAEnD,IAAS,IADDkD,OAAOC,QAAP,qDAA6DF,EAAQtC,KAArE,OAER,CACE,IAAMyC,EAAY,CAACzC,KAAKX,EAAQgB,OAAOd,GACvCyC,EAAkBM,EAAQlC,GAAGqC,GAC5B/B,KAAK,SAAAC,GAEFmB,EADsB,qBAAZnB,EACC,CAAC,qDAAoD,GAErD,CAAC,eAAe2B,EAAQtC,MAAK,IACxC0B,EAAW9B,EAAQM,IAAI,SAAAH,GAAM,OAAGA,EAAOK,KAAKO,EAASP,GAAIO,EAASZ,YAO1E,CAEEiC,EADkB,CAAChC,KAAKX,EAAQgB,OAAOd,IAEtCmB,KAAK,SAAAC,GACFe,EAAW9B,EAAQ8C,OAAO/B,IAC1BmB,EAAW,CAAC,eAAezC,GAAQ,MAIzCsC,EAAW,IACXC,EAAa,KAQ2BvC,QAASA,EAASC,iBAlErC,SAAC4C,GACtBP,EAAWO,EAAMC,OAAOlD,QAiEsEM,UAAWA,EAAWC,mBA/D7F,SAAC0C,GAC1BN,EAAaM,EAAMC,OAAOlD,UA+DxB,uCACA,kBAAC,EAAD,CAASW,QAASA,EAASb,UAAWA,EAAWc,YA3DjC,SAACO,GACnB,IAAMkC,EAAU1C,EAAQyC,KAAK,SAAAtC,GAAM,OAAEA,EAAOK,KAAKA,KAExC,IADDmC,OAAOC,QAAP,2CAAmDF,EAAQtC,KAA3D,QAGNgC,EAAkB5B,GACjBM,KAAK,SAAAC,GACJI,QAAQC,IAAI,QAAQL,EAAS,QAE7BmB,EADsB,qBAAZnB,EACC,CAAC,qDAAoD,GAErD,CAAC,iBAAgB,IAC5Be,EAAW9B,EAAQE,OAAO,SAAAC,GAAM,OAAEA,EAAOK,KAAKA,YCtCtDuC,IAASC,OAAO,kBAAC,EAAD,MAAQC,SAASC,eAAe,W","file":"static/js/main.281b3f2d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter= ({filterVal,handleFilterChange})=>(\n    <div>\n        filter shown with <input value={filterVal} onChange={handleFilterChange} />\n    </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm= ({handleSubmit,newName,handleNameChange,newNumber,handleNumberChange})=>(\n    <form onSubmit={handleSubmit}>\n        <div>\n            name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n            number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\nexport default PersonForm","import React from 'react'\n\nconst Numbers = ({persons,filterVal,deleteEntry})=>persons.filter((person)=>(person.name).includes(filterVal)).map((person)=><li key={person.id}>{person.name} {person.number} <button onClick={()=>deleteEntry(person.id)}>delete</button></li>)\n\nexport default Numbers","import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () =>( \n    axios\n    .get(baseUrl)\n    .then(response=>response.data)\n    .catch(error=>console.log(error))\n)\n\nconst remove = (id) =>( \n    axios\n    .delete(baseUrl+\"/\"+id)\n    .then(response=>response.data)\n    .catch(error=>{\n        console.log(\"errored\")\n        console.log(error)\n    })\n)\n\nconst update = (id,number) =>( \n    axios\n    .put(baseUrl+\"/\"+id,{\"numbers\":number})\n    .then(response=>response.data)\n    .catch(error=>{\n        console.log(error)\n    })\n)\n\nconst addNote = (numbers) =>{\n    console.log(numbers);\n    return(\n    axios\n    .post(baseUrl,{\"numbers\":numbers})\n    .then(response=>response.data)\n    .catch(error=>console.log(error))\n    )\n}\n\nexport default\n{\n    getAll,\n    remove,\n    update,\n    addNote\n}","import React from 'react'\nimport './index.css'\n\nconst Message = ({message}) =>{\n    if(message[0]==='')\n    return (<div></div>)\n    else\n    {\n        if(message[1]===true)\n        {\n            return(<div className=\"message positive\">\n                        {message[0]}\n                    </div>\n            )\n        }\n        else\n        {\n            return(<div className=\"message negative\">\n                    {message[0]}\n                    </div>\n            )\n        }\n    }\n}\n\nexport default Message","import React, { useState ,useEffect } from 'react'\nimport Filter from './Filer'\nimport PersonForm from './PersonForm'\nimport Numbers from './Numbers'\nimport numberserv from '../number-service'\nimport Message from './Message'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterVal, setFilter ] = useState('')\n  const [ message, setMessage ] = useState(['',false])\n  const hook = () => {\n    console.log('effect')\n    numberserv.getAll()\n    .then(response=>setPersons(response))\n  }\n  useEffect(hook,[])\n  console.log('render', persons.length, 'person')\n  const handleNameChange = (event)=>{\n      setNewName(event.target.value);\n  }\n  const handleNumberChange = (event)=>{\n    setNewNumber(event.target.value);\n  } \n  const handleFilterChange = (event)=>{\n    setFilter(event.target.value);\n  }\n  const deleteEntry = (id)=>{\n    const current = persons.find(person=>person.id===id)\n    var r = window.confirm(`Are you sure, you want to delete ${current.name} ?`);\n    if(r === true)\n    {\n      numberserv.remove(id)\n      .then(response=>{\n        console.log(\"*****\",response,\"****\")\n        if(typeof(response)==='undefined')\n        setMessage([\"Number already deleted, please refresh to reflect\",false])\n        else\n        setMessage([\"Deleted entry\",true])\n        setPersons(persons.filter(person=>person.id!==id))\n      })\n    }\n  }\n  const handleSubmit = (event)=>{\n      event.preventDefault()\n      console.log(\"handle submit\")\n      if(persons.find((person)=>person.name===newName))\n      {\n        const current = persons.find(person=>person.name===newName)\n        var r = window.confirm(`Are you sure, you want to update number of ${current.name} ?`);\n        if(r === true)\n        {\n          const newPerson = {name:newName,number:newNumber}\n          numberserv.update(current.id,newPerson)\n          .then(response=>{\n              if(typeof(response)==='undefined')\n              setMessage([\"Number already deleted, please refresh to reflect\",false])\n              else\n              setMessage([\"Added entry \"+current.name,true])\n              setPersons(persons.map(person=>(person.id===response.id)?response:person))\n              \n            }\n          )\n        }\n      }\n      else\n      {\n        const newPerson = {name:newName,number:newNumber}\n        numberserv.addNote(newPerson)\n        .then(response=>{\n            setPersons(persons.concat(response))\n            setMessage([\"Added entry \"+newName,true])\n          }\n        )\n      }\n      setNewName('')\n      setNewNumber('')\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={message}/>\n      <Filter filterVal={filterVal} handleFilterChange={handleFilterChange} />\n      <h2> add new </h2>\n      <PersonForm handleSubmit={handleSubmit} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Numbers persons={persons} filterVal={filterVal} deleteEntry={deleteEntry} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\n\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}